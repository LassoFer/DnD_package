import*as e from"@formkit/auto-animate/react";import{createRef as t,useState as n,useEffect as r}from"react";function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(this,arguments)}const o=(e,t,n,r,i,o)=>{e.enable=!0,t(Object.assign(e));let a=n.splice(i,1);n.splice(o,0,...a),r([...n])},a=(e,t)=>{var n;let r=null==(n=t.ref)?void 0:n.current.getBoundingClientRect(),i=e.current.getBoundingClientRect(),o=i.y+i.height/2,a=i.x+i.width/2,s=r.x;return a>s&&a<s+r.width&&o>r.y&&o<r.bottom},s=(e,t)=>setTimeout(()=>{e.enable=!1,t(Object.assign(e))},200);function d({duration:d,list_:l,contRef:c,elementclassName:u,containerclassName:f}){const[m,p]=n(l),[y,g]=n(void 0),[x,v]=e.useAutoAnimate({duration:d});r(()=>{((e,n)=>{e&&0!==e.length&&n(e.map(e=>(e.ref=t(),e.x=0,e.y=0,e)))})(l,p)},[l]),r(()=>{if(!y)return;const e=e=>{((e,t)=>{e.ref.current.style.transform="translate("+(e.x+t.pageX-e.mouseDown.pageX)+"px,"+(e.y+t.pageY-e.mouseDown.pageY)+"px)"})(y,e),b(y.ref)},t=n=>{w(m.findIndex(e=>"empty"===e._id)),document.removeEventListener("mousemove",e),document.removeEventListener("mouseup",t)};document.addEventListener("mousemove",e),document.addEventListener("mouseup",t)},[y]);const b=e=>{let t=m.find(e=>e.dragged),n=m.findIndex(e=>"empty"===e._id);for(let r=0;r<m.length;r++){let i=m[r];if(!y.enable&&i!==t&&"empty"!==i._id&&a(e,i)){o(y,g,m,p,n,r),s(y,g);break}}},w=e=>{let t=m.filter(e=>"empty"!==e._id);t.splice(e,0,y),g(void 0),p([...t])};return h("div",{style:{display:"flex"}},m&&h("div",{ref:x,className:f},m.map(e=>h("div",{ref:e.ref,className:u,key:e._id,onMouseDown:t=>(async(e,t)=>{e.stopPropagation();let n=m.find(e=>e.ref===t),r=m.findIndex(e=>e.ref===t);((e,t,n)=>{const r=e.current.getBoundingClientRect(),i=n.current.getBoundingClientRect();t.x=r.x-i.x,t.y=r.y-i.y})(t,n,c),((e,t,n,r)=>{r.splice(t,0,{_id:"empty",extraStyle:{width:e.current.offsetWidth,height:e.current.offsetHeight}}),n.extraStyle={width:e.current.offsetWidth,height:e.current.offsetHeight}})(t,r,n,m),p(m.filter(e=>e!==n)),n.mouseDown=e,g(n)})(t,e.ref),style:e.extraStyle?i({},e.extraStyle):{}},e.renderMethod))),y&&h("div",{className:"dashboardContainer",ref:y.ref,style:i({position:"absolute"},y.extraStyle,{transform:"translate("+y.x+"px,"+y.y+"px)",zIndex:"10000"})},y.renderMethod))}export{d as default};
//# sourceMappingURL=index.modern.js.map
