!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("@formkit/auto-animate/react"),require("react")):"function"==typeof define&&define.amd?define(["@formkit/auto-animate/react","react"],t):(e||self).flexdnd=t(e.react$1,e.react)}(this,function(e,t){const n=(e,t,n,r,i,o)=>{e.enable=!0,t(Object.assign(e));let s=n.splice(i,1);n.splice(o,0,...s),r([...n])},r=(e,t)=>{var n;let r=null==(n=t.ref)?void 0:n.current.getBoundingClientRect(),i=e.current.getBoundingClientRect(),o=i.y+i.height/2,s=i.x+i.width/2,a=r.x;return s>a&&s<a+r.width&&o>r.y&&o<r.bottom},i=(e,t)=>setTimeout(()=>{e.enable=!1,t(Object.assign(e))},200);return function(o){let{duration:s,list_:a,contRef:d,elementclassName:f,containerclassName:u}=o;const[l,c]=t.useState(a),[m,p]=t.useState(void 0),[y,g]=e.useAutoAnimate({duration:s});t.useEffect(()=>{((e,n)=>{e&&0!==e.length&&n(e.map(e=>(e.ref=t.createRef(),e.x=0,e.y=0,e)))})(a,c)},[a]),t.useEffect(()=>{if(!m)return;const e=e=>{((e,t)=>{e.ref.current.style.transform="translate("+(e.x+t.pageX-e.mouseDown.pageX)+"px,"+(e.y+t.pageY-e.mouseDown.pageY)+"px)"})(m,e),x(m.ref)},t=n=>{v(l.findIndex(e=>"empty"===e._id)),document.removeEventListener("mousemove",e),document.removeEventListener("mouseup",t)};document.addEventListener("mousemove",e),document.addEventListener("mouseup",t)},[m]);const x=e=>{let t=l.find(e=>e.dragged),o=l.findIndex(e=>"empty"===e._id);for(let s=0;s<l.length;s++){let a=l[s];if(!m.enable&&a!==t&&"empty"!==a._id&&r(e,a)){n(m,p,l,c,o,s),i(m,p);break}}},v=e=>{let t=l.filter(e=>"empty"!==e._id);t.splice(e,0,m),p(void 0),c([...t])};return h("div",{style:{display:"flex"}},l&&h("div",{ref:y,className:u},l.map(e=>h("div",{ref:e.ref,className:f,key:e._id,onMouseDown:t=>function(e,t){try{e.stopPropagation();let n=l.find(e=>e.ref===t),r=l.findIndex(e=>e.ref===t);return((e,t,n)=>{const r=e.current.getBoundingClientRect(),i=n.current.getBoundingClientRect();t.x=r.x-i.x,t.y=r.y-i.y})(t,n,d),((e,t,n,r)=>{r.splice(t,0,{_id:"empty",extraStyle:{width:e.current.offsetWidth,height:e.current.offsetHeight}}),n.extraStyle={width:e.current.offsetWidth,height:e.current.offsetHeight}})(t,r,n,l),c(l.filter(e=>e!==n)),n.mouseDown=e,p(n),Promise.resolve()}catch(e){return Promise.reject(e)}}(t,e.ref),style:e.extraStyle?{...e.extraStyle}:{}},e.renderMethod))),m&&h("div",{className:"dashboardContainer",ref:m.ref,style:{position:"absolute",...m.extraStyle,transform:"translate("+m.x+"px,"+m.y+"px)",zIndex:"10000"}},m.renderMethod))}});
//# sourceMappingURL=index.umd.js.map
