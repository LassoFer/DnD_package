var e=require("@formkit/auto-animate/react"),t=require("react");function r(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach(function(r){if("default"!==r){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})}}),t.default=e,t}var n=/*#__PURE__*/r(e);const i=(e,t,r,n,i,o)=>{e.enable=!0,t(Object.assign(e));let a=r.splice(i,1);r.splice(o,0,...a),n([...r])},o=(e,t)=>{var r;let n=null==(r=t.ref)?void 0:r.current.getBoundingClientRect(),i=e.current.getBoundingClientRect(),o=i.y+i.height/2,a=i.x+i.width/2,s=n.x;return a>s&&a<s+n.width&&o>n.y&&o<n.bottom},a=(e,t)=>setTimeout(()=>{e.enable=!1,t(Object.assign(e))},200);module.exports=function(e){let{duration:r,list_:s,contRef:u,elementclassName:d,containerclassName:c}=e;const[l,f]=t.useState(s),[m,p]=t.useState(void 0),[y,g]=n.useAutoAnimate({duration:r});t.useEffect(()=>{((e,r)=>{e&&0!==e.length&&r(e.map(e=>(e.ref=t.createRef(),e.x=0,e.y=0,e)))})(s,f)},[s]),t.useEffect(()=>{if(!m)return;const e=e=>{((e,t)=>{e.ref.current.style.transform="translate("+(e.x+t.pageX-e.mouseDown.pageX)+"px,"+(e.y+t.pageY-e.mouseDown.pageY)+"px)"})(m,e),x(m.ref)},t=r=>{v(l.findIndex(e=>"empty"===e._id)),document.removeEventListener("mousemove",e),document.removeEventListener("mouseup",t)};document.addEventListener("mousemove",e),document.addEventListener("mouseup",t)},[m]);const x=e=>{let t=l.find(e=>e.dragged),r=l.findIndex(e=>"empty"===e._id);for(let n=0;n<l.length;n++){let s=l[n];if(!m.enable&&s!==t&&"empty"!==s._id&&o(e,s)){i(m,p,l,f,r,n),a(m,p);break}}},v=e=>{let t=l.filter(e=>"empty"!==e._id);t.splice(e,0,m),p(void 0),f([...t])};return h("div",{style:{display:"flex"}},l&&h("div",{ref:y,className:c},l.map(e=>h("div",{ref:e.ref,className:d,key:e._id,onMouseDown:t=>function(e,t){try{e.stopPropagation();let r=l.find(e=>e.ref===t),n=l.findIndex(e=>e.ref===t);return((e,t,r)=>{const n=e.current.getBoundingClientRect(),i=r.current.getBoundingClientRect();t.x=n.x-i.x,t.y=n.y-i.y})(t,r,u),((e,t,r,n)=>{n.splice(t,0,{_id:"empty",extraStyle:{width:e.current.offsetWidth,height:e.current.offsetHeight}}),r.extraStyle={width:e.current.offsetWidth,height:e.current.offsetHeight}})(t,n,r,l),f(l.filter(e=>e!==r)),r.mouseDown=e,p(r),Promise.resolve()}catch(e){return Promise.reject(e)}}(t,e.ref),style:e.extraStyle?{...e.extraStyle}:{}},e.renderMethod))),m&&h("div",{className:"dashboardContainer",ref:m.ref,style:{position:"absolute",...m.extraStyle,transform:"translate("+m.x+"px,"+m.y+"px)",zIndex:"10000"}},m.renderMethod))};
//# sourceMappingURL=flex_dnd.cjs.map
