import*as e from"@formkit/auto-animate/react";import{createRef as t,useState as r,useEffect as n}from"react";const o=(e,t,r,n,o,i)=>{e.enable=!0,t(Object.assign(e));let a=r.splice(o,1);r.splice(i,0,...a),n([...r])},i=(e,t)=>{var r;let n=null==(r=t.ref)?void 0:r.current.getBoundingClientRect(),o=e.current.getBoundingClientRect(),i=o.y+o.height/2,a=o.x+o.width/2,s=n.x;return a>s&&a<s+n.width&&i>n.y&&i<n.bottom},a=(e,t)=>setTimeout(()=>{e.enable=!1,t(Object.assign(e))},200);var s={DragAndDrop:function(s){let{duration:d,list_:l,contRef:u,elementclassName:c,containerclassName:m}=s;const[f,p]=r(l),[g,y]=r(void 0),[x,v]=e.useAutoAnimate({duration:d});n(()=>{((e,r)=>{e&&0!==e.length&&r(e.map(e=>(e.ref=t(),e.x=0,e.y=0,e)))})(l,p)},[l]),n(()=>{if(!g)return;const e=e=>{((e,t)=>{e.ref.current.style.transform="translate("+(e.x+t.pageX-e.mouseDown.pageX)+"px,"+(e.y+t.pageY-e.mouseDown.pageY)+"px)"})(g,e),b(g.ref)},t=r=>{w(f.findIndex(e=>"empty"===e._id)),document.removeEventListener("mousemove",e),document.removeEventListener("mouseup",t)};document.addEventListener("mousemove",e),document.addEventListener("mouseup",t)},[g]);const b=e=>{let t=f.find(e=>e.dragged),r=f.findIndex(e=>"empty"===e._id);for(let n=0;n<f.length;n++){let s=f[n];if(!g.enable&&s!==t&&"empty"!==s._id&&i(e,s)){o(g,y,f,p,r,n),a(g,y);break}}},w=e=>{let t=f.filter(e=>"empty"!==e._id);t.splice(e,0,g),y(void 0),p([...t])};return h("div",{style:{display:"flex"}},f&&h("div",{ref:x,className:m},f.map(e=>h("div",{ref:e.ref,className:c,key:e._id,onMouseDown:t=>function(e,t){try{e.stopPropagation();let r=f.find(e=>e.ref===t),n=f.findIndex(e=>e.ref===t);return((e,t,r)=>{const n=e.current.getBoundingClientRect(),o=r.current.getBoundingClientRect();t.x=n.x-o.x,t.y=n.y-o.y})(t,r,u),((e,t,r,n)=>{n.splice(t,0,{_id:"empty",extraStyle:{width:e.current.offsetWidth,height:e.current.offsetHeight}}),r.extraStyle={width:e.current.offsetWidth,height:e.current.offsetHeight}})(t,n,r,f),p(f.filter(e=>e!==r)),r.mouseDown=e,y(r),Promise.resolve()}catch(e){return Promise.reject(e)}}(t,e.ref),style:e.extraStyle?{...e.extraStyle}:{}},e.renderMethod))),g&&h("div",{className:"dashboardContainer",ref:g.ref,style:{position:"absolute",...g.extraStyle,transform:"translate("+g.x+"px,"+g.y+"px)",zIndex:"10000"}},g.renderMethod))},FormkitAutoAnimateReact:e};export{s as default};
//# sourceMappingURL=flexdnd.esm.js.map
